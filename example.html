<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Map</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@latest/dist/leaflet.css" />
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="newcss.css">
</head>
<body>
  <!-- User Info Overlay -->
  <div id="overlay">
    <div id="popupForm">
      <h2>Nh·∫≠p t√™n v√† ch·ªçn m√†u c·ªßa b·∫°n:</h2>
      <input type="text" id="userName" placeholder="T√™n c·ªßa b·∫°n">
      <label>Ch·ªçn m√†u v·ªã tr√≠:</label>
      <input type="color" id="colorPicker" value="#ff0000">
      <button onclick="userLocationManager.saveUserInfo()">L∆∞u</button>
    </div>
  </div>
  <!-- Header -->
  <div class="header" id="hienthi">
    <div class="title">
     <!-- <button class="bg-blue-600 text-white px-3 py-1 mt-2 rounded" onclick="readloadweb1()">‚¨Ö</button>-->
     <img src=https://res.cloudinary.com/doiljcevb/image/upload/v1749886119/PD9ncf4_etcygo.png alt="Logo" class="logo">
    </div>
    <div class="search-bar">
        <button class="filter-btn" onclick="toggleFilterMenu()">
            <image src="https://res.cloudinary.com/doiljcevb/image/upload/v1750650548/z6694501763469_37abcdc0b278ea084d7fe03483c7bccd-removebg-preview_go0b5d.png" width="20" height="20"/>
        </button>
      <input type="text" id="search-input" id="Hello" placeholder="T√¨m nh√† tr·ªç...">
    </div>
  </div>

  <!-- Main Content -->
 
    <div id="map" id="sidebar2"></div>
  

  <!-- Footer -->
  
      <button id="button-opdiv" onclick="opendiv2()">
          <div id="div-opdiv"></div>
      </button>
            <div id="filterMenu" style="display: none;">
            <h4>S·∫Øp x·∫øp</h4>
                <div class="filter-options" >
                    <select id="sortType" onchange="userLocationManager.updateLocationList()">
                        <option value="distance">Kho·∫£ng c√°ch(km):</option>
                        <option value="price">Gi√° ti·ªÅn(ƒë):</option>
                    </select>
                    <select id="sortOrder" onchange="userLocationManager.updateLocationList()">
                        <option value="asc" stype="place-items: center;">‚¨á</option>
                        <option value="desc"stype="place-items: center;">‚¨Ü</option>
                    </select>
                </div>
            </div>
          <div id="dev22" style="display:block;">
            <div class="location-list">
                 <h4>Danh s√°ch tr·ªç</h4>
                <div id="locationList"></div>
            </div>
          </div>
     
            <span class="footer-text">T·ªça ƒë·ªô b·∫°n ƒë√£ ch·ªçn: <span id="coordinates">Ch∆∞a ch·ªçn</span></span>
            <button id="copyBtn">Copy</button>
            <button onclick="userLocationManager.toggleManualForm()">‚ûï Th√™m V·ªã Tr√≠ Th·ªß C√¥ng</button>
  <!-- Manual Location Form -->
  <div id="manualFormPopup" style="display: none;">
   <div id="addManualForm">
  <h2>Nh·∫≠p V·ªã Tr√≠ Th·ªß C√¥ng</h2>
  
  <input type="text" id="manualName" required placeholder="T√™n nh√† tr·ªç">

  <input type="url" id="manualImageUrl" placeholder="Nh·∫≠p ·∫£nh 1" required>
  <input type="url" id="manualMapLink" placeholder="Link GoogleMap:" required>
  <input type="url" id="manualImageUrl1" placeholder="Link ·∫£nh2:" required>
  <input type="url" id="manualImageUrl2" placeholder="Link ·∫£nh3:" required>
  <input type="text" id="manualcomment" placeholder="comment" required>
  <input type="text" id="manualnickname" placeholder="T√™n" required>
  <!--<input type="radio" id="manualVideo" placeholder="Link video" required>-->
  <div id="row">
      <div id="col">
      <input type="number" id="manualLat" step="any" required placeholder="Vƒ© ƒë·ªô">      
      </div>
      <div id="col">
        <input type="number" id="manualLng" step="any" required placeholder="Kinh ƒë·ªô">
      </div>
  </div>
 
  <div class="row">
    <div class="col">
      <label>Bi·ªÉu t∆∞·ª£ng:</label>
      <select id="manualIcon">
        <option value="üè†">üè† Nh√† Tr·ªç</option>
        <option value="üè•">üè• B·ªánh vi·ªán</option>
      </select>
    </div>
    <div class="col">
      <label>M√†u s·∫Øc:</label>
      <input type="color" id="manualColor" value="#ff0000">
    </div>
  </div>
        <div class="row">
            <div class="col">
  <input type="number" id="manualPrice" placeholder="Gi√° ƒëi·ªán(VNƒê)">

            </div>
   <div class="col">
  <label>ƒê√°nh gi√°:</label>
            </div>
        </div>
  <div id="manualRating">
    <span class="star" data-value="1">‚òÜ</span>
    <span class="star" data-value="2">‚òÜ</span>
    <span class="star" data-value="3">‚òÜ</span>
    <span class="star" data-value="4">‚òÜ</span>
    <span class="star" data-value="5">‚òÜ</span>
  </div>
     
  <button type="button" onclick="userLocationManager.addManualMarker()">‚úÖ L∆∞u v·ªã tr√≠</button>
  <button type="button" onclick="userLocationManager.toggleManualForm()">‚ùå H·ªßy</button>
</div>

    <!-- Edit Manual Location Form -->
    <div id="editManualForm1" style="display: none;"><!-- off------------------------s·ª≠a t√™n---->
        <h2>Ch·ªânh s·ª≠a V·ªã Tr√≠ Th·ªß C√¥ng              
            <button onclick="userLocationManager.toggleManualForm()">X</button></h2>
      <input type="hidden" id="editManualId">
      <label>T√™n nh√† tr·ªç:</label>
      <input type="text" id="editManualName" required>
      <label>Link ·∫£nh minh h·ªça:</label>
      <input type="url" id="editManualImageUrl" placeholder="Nh·∫≠p ·∫£nh 1" required>
      <div id="editImagePreview"></div> 
      <input type="url" id="editManualMapLink" placeholder="Link Map:" required>
       <input type="url" id="editManualImageUrl1" placeholder="anh2" required>
       <input type="url" id="editManualImageUrl2" placeholder="anh3" required>
         <input type="text" id="editManualcomment" placeholder="comment" required>
  <input type="text" id="editManualnickname" placeholder="T√™n" required>
      <div class="row">
          <div class="col">
      <label>Vƒ© ƒë·ªô (lat):</label>
      <input type="number" id="editManualLat" step="any" required>
          </div>
          <div class="col">
      <label>Kinh ƒë·ªô (lng):</label>
      <input type="number" id="editManualLng" step="any" required>
          </div>
      </div>
      <div class="row">
          <div class="col">
      <label>Bi·ªÉu t∆∞·ª£ng:</label>
      <select id="editManualIcon">
        <option value="üè†">üè† Nh√†</option>
        <option value="üè•">üè• B·ªánh vi·ªán</option>
      </select>
          </div>
          <div class="col">
      <label>M√†u s·∫Øc:</label>
      <input type="color" id="editManualColor" value="#ff0000">
          </div>
      </div>
      <label>Gi√° ƒêi·ªán (VNƒê):</label>
      <input type="number" id="editManualPrice">
      <label>ƒê√°nh gi√°:</label>
      <div id="editManualRating">
        <span class="star" data-value="1">‚òÜ</span>
        <span class="star" data-value="2">‚òÜ</span>
        <span class="star" data-value="3">‚òÜ</span>
        <span class="star" data-value="4">‚òÜ</span>
        <span class="star" data-value="5">‚òÜ</span>
      </div>
      <button type="button" onclick="userLocationManager.saveEditedMarker()">‚úÖ L∆∞u ch·ªânh s·ª≠a</button>
    </div>
  </div>
      
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <!-- Leaflet -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="script.js"></script>
  <script src="scriptmenu.js"></script>
</body>
</html>
